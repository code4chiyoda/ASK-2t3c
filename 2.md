---
id: ASK-2T3C-2
title: 風ぐるま乗換案内 Web アプリケーション - 経緯と仕様
author:
  - Nawashiro
contact:
  - rsm4905dc[a]mozmail.com
status: historical
created: 2025-04-11
updated: 2025-11-04
---

```
id: ASK-2T3C-2
title: 風ぐるま乗換案内 Web アプリケーション - 経緯と仕様
author:
  - Nawashiro
contact:
  - rsm4905dc[a]mozmail.com
status: historical
created: 2025-04-11
updated: 2025-11-04
```

# 風ぐるま乗換案内 Web アプリケーション - 経緯と仕様

https://kazaguruma-transit.nawashiro.dev

これは、千代田区福祉交通「風ぐるま」の利用者へのナビゲーションを提供する Web アプリケーションです。私が個人で開発し、運用しています。

## 経緯

私の母が入院したとき、風ぐるまでお見舞いに通おうとしたのが始まりです。まったく時刻表が読めず、意図した場所にたどり着くことができませんでした。私は乗換案内アプリケーションを開発することを誓いました。

はじめはモバイルアプリを検討しましたが、個人が Google Play ストアでアプリを公開するには本名と住所を全世界に明かさねばならず、Web アプリケーションとして公開することにしました。

私は持っている障害特性により、働くことができません。現在は区内の就労継続支援事業所に通っています。開発・運用費は私の生活費から捻出しており、その生活費は貯金を切り崩して得ています。収支が当初からの課題でした。

- 無課金ユーザは 1 時間に 10 リクエストまで制限する
- 課金ユーザのみ PDF 出力機能・開発者によるサポートを設ける

この点で妥協しましが、依然として懸念となっています。

風ぐるまの GTFS データが日立自動車交通により 2024 年 12 月に公開され、開発することが可能となりました。しかし、このデータは 2025 年 3 月に有効期限切れとなり、役に立たなくなりました。独自に GTFS データを作成することを余儀なくされました。

現在、無事に乗換案内アプリケーションは稼働を始め、私はこれを使って自宅と障害者福祉センターえみふるや千代田区役所を往復する日々を過ごしています。

## 仕様

### 経路探索

1. 行き先を選びます。行き先はプリセットが用意されています。福祉施設や区役所・出張所といったカテゴリです。また、自由に住所を入力して検索することができます。
2. 出発地を選びます。現在地を選ぶか、自由に住所を入力して検索することができます。
3. 時刻を選びます。出発なのか、到着なのか、日付はいつか、時刻はいつかを選ぶことができます。標準では現在時刻かつ出発が選択されています。
4. 検索ボタンを押すと、経路が検索されます。

### PDF 出力

- IT リテラシーが低い人をサポートするために、PDF を出力してダウンロードする機能があります。印刷することを想定しています。用紙サイズは A4 です。
- PDF には乗換案内だけでなく、出発地から停留所までの経路と、停留所から目的地までの経路が含まれています。

### 千代田区内の場所を探す

- 区内にそもそも何があるのか調べるためのガイドです。
- さまざまな場所がカテゴリ分けされています。
- 標準では町ごとの表示です。任意の地点からの距離順に表示することもできます。
- 本来は施設の写真や説明を設けることが想定されていますが、撮影交渉など難航しています（オープンデータとして公開しなければならない制約によるものです。Open Data Commons Open Database License (ODbL) に準拠する必要があります。これは明らかに商用利用が許可されています。厳密には写真のみ別ライセンスで提供するなど方法がないわけではありませんが、このデータを利用して別のことをする後世の誰かのために道を整備する必要があります。難航しているのはそのためです）。

## 技術仕様

- フレームワーク: Next.js
- UI フレームワーク: DaisyUI
- 仮想環境: Docker
- 運用環境: オンプレミス
- 通信トンネリング: Cloudflare Tunnel

### 課金

これは私の個人プロジェクトのため、私に対する継続的な支援に対する見返りとして、フル機能を提供します。

- Ko-fi: 投げ銭を提供する事業者です。決済機能を持たず、API とリッチな UI/UX を提供します。
- Stripe: クレジットカード決済を提供する事業者です。

### 認証

メールによるワンタイムパスワード認証を備えています。Ko-fi で登録したメールアドレスと照合し、かつワンタイムパスワード認証をすることにより、セッションを発行します。

- Mailtrap: メール配信を提供する事業者です。

以上

2025-04-11

---

[GPL-3.0 license](https://www.gnu.org/licenses/gpl-3.0.en.html)
